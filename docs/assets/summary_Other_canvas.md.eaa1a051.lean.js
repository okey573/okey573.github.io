import{_ as h,r as c,e as p,o as l,c as o,b as d,f as m,a as u}from"./app.b4516dcc.js";function r(n,t){return Math.floor(Math.random()*(t-n+1)+n)}class x{constructor(t,e,s=2){this.cvs=t,this.ctx=e,this.r=s,this.x=r(0,t.width-this.r/2),this.y=r(0,t.height-this.r/2),this.xSpeed=r(-30,30),this.ySpeed=r(-30,30),this.lastDrawTime=null}draw(){if(this.lastDrawTime){const t=(Date.now()-this.lastDrawTime)/1e3,e=this.xSpeed*t,s=this.ySpeed*t;let a=this.x+e,i=this.y+s;a>this.cvs.width-this.r/2?(a=this.cvs.width-this.r/2,this.xSpeed=-this.xSpeed):a<0&&(a=0,this.xSpeed=-this.xSpeed),i>this.cvs.height-this.r/2?(i=this.cvs.height-this.r/2,this.ySpeed=-this.ySpeed):i<0&&(i=0,this.ySpeed=-this.ySpeed),this.x=a,this.y=i}this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI),this.ctx.fillStyle="rgb(200,200,200)",this.ctx.fill(),this.lastDrawTime=Date.now()}}class _{constructor(t,e,s=20,a=200){this.cvs=t,this.ctx=e,this.points=new Array(s).fill(0).map(()=>new x(t,e)),this.maxDis=a}draw(){requestAnimationFrame(()=>{this.draw()}),this.ctx.clearRect(0,0,this.cvs.width,this.cvs.height);for(let t=0;t<this.points.length;t++){const e=this.points[t];e.draw();for(let s=t+1;s<this.points.length;s++){const a=this.points[s],i=Math.sqrt((e.x-a.x)**2+(e.y-a.y)**2);i>this.maxDis||(this.ctx.beginPath(),this.ctx.moveTo(e.x,e.y),this.ctx.lineTo(a.x,a.y),this.ctx.closePath(),this.ctx.strokeStyle=`rgba(200,200,200,${1-i/this.maxDis})`,this.ctx.stroke())}}}}const v={class:"wrapper"},f={__name:"TheCanvas",setup(n){const t=c();return p(()=>{const e=t.value,s=e.getContext("2d");e.width=e.clientWidth,e.height=e.clientHeight,new _(e,s).draw()}),(e,s)=>(l(),o("div",v,[d("canvas",{ref_key:"canvasRef",ref:t},null,512)]))}},g=h(f,[["__scopeId","data-v-20f871ed"]]),y=u("",24),D=JSON.parse('{"title":"canvas","description":"","frontmatter":{"title":"canvas"},"headers":[{"level":2,"title":"获取绘制上下文","slug":"获取绘制上下文","link":"#获取绘制上下文","children":[]},{"level":2,"title":"Context2D绘图","slug":"context2d绘图","link":"#context2d绘图","children":[]},{"level":2,"title":"requestAnimationFrame","slug":"requestanimationframe","link":"#requestanimationframe","children":[]}],"relativePath":"summary/Other/canvas.md","lastUpdated":1678343097000}'),A={name:"summary/Other/canvas.md"},b=Object.assign(A,{setup(n){return(t,e)=>(l(),o("div",null,[y,m(g)]))}});export{D as __pageData,b as default};
