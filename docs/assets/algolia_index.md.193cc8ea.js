import{_ as s,o as a,c as n,a as l}from"./app.9f03a07e.js";const A=JSON.parse('{"title":"VitePress\u96C6\u6210algolia\u5B9E\u73B0\u641C\u7D22","description":"","frontmatter":{"title":"VitePress\u96C6\u6210algolia\u5B9E\u73B0\u641C\u7D22","outline":[2,6]},"headers":[{"level":2,"title":"\u6982\u8FF0","slug":"\u6982\u8FF0","link":"#\u6982\u8FF0","children":[]},{"level":2,"title":"\u5B9E\u73B0","slug":"\u5B9E\u73B0","link":"#\u5B9E\u73B0","children":[]}],"relativePath":"algolia/index.md","lastUpdated":1676273940000}'),o={name:"algolia/index.md"},p=l(`<p>\u628Aalgolia\u96C6\u6210\u5230VitePress\u6587\u6863\u5DE5\u7A0B\u91CC\uFF0C\u5B9E\u73B0\u641C\u7D22\u529F\u80FD</p><h2 id="\u6982\u8FF0" tabindex="-1">\u6982\u8FF0 <a class="header-anchor" href="#\u6982\u8FF0" aria-hidden="true">#</a></h2><p>VitePress\u662F\u652F\u6301algolia\u7684\uFF0C\u4F46\u662F\u5B98\u65B9\u6587\u6863\u4E2D\u6CA1\u6709\u6307\u5F15\u3002\u53EF\u4EE5\u770B\u5230vue3\u6587\u6863\uFF0Cvite\u6587\u6863\uFF0CelementPlus\u6587\u6863\u7B49\u7B49\u90FD\u91C7\u7528\u7684\u662Falgolia\u5B9E\u73B0\u641C\u7D22\u3002</p><h4 id="\u4E86\u89E3algolia" tabindex="-1">\u4E86\u89E3algolia <a class="header-anchor" href="#\u4E86\u89E3algolia" aria-hidden="true">#</a></h4><p>algolia\u5B9E\u73B0\u641C\u7D22\u5C31\u662F\u901A\u8FC7\u628A\u7F51\u7AD9\u6570\u636E\u4E0A\u4F20\u5230algolia\uFF08\u5B9E\u9645\u4E0A\u662Falgolia\u722C\u53D6\u7F51\u7AD9\u6570\u636E\uFF09\uFF0C\u7136\u540E\u641C\u7D22\u65F6\u662F\u5411algolia\u53D1\u9001\u8BF7\u6C42\uFF0C\u7136\u540E\u628A\u8FD4\u56DE\u5C55\u793A\u5728\u7F51\u7AD9\u4E0A\uFF0C\u5B9E\u73B0\u641C\u7D22\u3002</p><h2 id="\u5B9E\u73B0" tabindex="-1">\u5B9E\u73B0 <a class="header-anchor" href="#\u5B9E\u73B0" aria-hidden="true">#</a></h2><h4 id="\u6CE8\u518Calgolia\u8D26\u53F7" tabindex="-1">\u6CE8\u518Calgolia\u8D26\u53F7 <a class="header-anchor" href="#\u6CE8\u518Calgolia\u8D26\u53F7" aria-hidden="true">#</a></h4><p>\u5B98\u7F51\u5730\u5740\uFF1A<a href="https://www.algolia.com" target="_blank" rel="noreferrer">https://www.algolia.com</a></p><p>\u6CE8\u518C\u4E00\u4E2A\u514D\u8D39\u8D26\u53F7\uFF0C\u7136\u540E\u83B7\u53D6Api Keys\uFF0CSearch-Only API Key\u5728\u9879\u76EE\u4E2D\u4F7F\u7528\u7684\uFF0CAdmin API Key \u662F\u7528\u4E8E\u4E00\u4F1A\u722C\u866B\u7684key\uFF0C\u653E\u5728Github Secrets\u4E2D\u3002</p><h4 id="\u5728\u9879\u76EE\u4E2D\u914D\u7F6E" tabindex="-1">\u5728\u9879\u76EE\u4E2D\u914D\u7F6E <a class="header-anchor" href="#\u5728\u9879\u76EE\u4E2D\u914D\u7F6E" aria-hidden="true">#</a></h4><p>\u4FEE\u6539VitePress\u914D\u7F6E\u6587\u4EF6\uFF1Adocs/.vitepress/config</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  algolia: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    appId: &#39;SQ5GQ6SV73&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    apiKey: &#39;cba98dd04dea30f0007609408f2ccc74&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    indexName: &#39;heels-of-giants docs search engine&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    placeholder: &#39;\u8BF7\u8F93\u5165\u5173\u952E\u8BCD&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    buttonText: &#39;\u641C\u7D22&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h4 id="\u628A\u4E0A\u9762\u83B7\u53D6\u5230\u7684\u79C1\u94A5\u653E\u5728github-secrets\u4E2D" tabindex="-1">\u628A\u4E0A\u9762\u83B7\u53D6\u5230\u7684\u79C1\u94A5\u653E\u5728Github Secrets\u4E2D <a class="header-anchor" href="#\u628A\u4E0A\u9762\u83B7\u53D6\u5230\u7684\u79C1\u94A5\u653E\u5728github-secrets\u4E2D" aria-hidden="true">#</a></h4><blockquote><p>github-&gt;setting-&gt;Security-&gt;secrets and variables-&gt;Actions</p></blockquote><p>\u65B0\u5EFA\u4E00\u4E2ASecrets</p><h4 id="\u6839\u76EE\u5F55\u521B\u5EFAcrawlerconfig-json" tabindex="-1">\u6839\u76EE\u5F55\u521B\u5EFAcrawlerConfig.json <a class="header-anchor" href="#\u6839\u76EE\u5F55\u521B\u5EFAcrawlerconfig-json" aria-hidden="true">#</a></h4><p>start_urls\u9700\u8981\u66FF\u6362\u6210\u81EA\u5DF1\u7684\u771F\u5B9E\u4E0A\u7EBF\u540E\u7684\u5730\u5740</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">index_name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">heels-of-giants docs search engine</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">start_urls</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://okey573.github.io/docs/</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">rateLimit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">maxDepth</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">selectors</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">lvl0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">selector</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">defaultValue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Documentation</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">lvl1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.content h1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">lvl2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.content h2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">lvl3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.content h3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">lvl4</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.content h4</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">lvl5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.content h5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">content</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.content p, .content li</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">selectors_exclude</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">aside</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.page-footer</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.next-and-prev-link</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.table-of-contents</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">js_render</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="\u6DFB\u52A0action\u811A\u672C" tabindex="-1">\u6DFB\u52A0action\u811A\u672C <a class="header-anchor" href="#\u6DFB\u52A0action\u811A\u672C" aria-hidden="true">#</a></h4><p>\u6CE8\u610Fbranch, env\u7B49\u53C2\u6570</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki"><code><span class="line"><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Algolia</span></span>
<span class="line"><span style="color:#FF9CAC;">on</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">push</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">branches</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master</span></span>
<span class="line"><span style="color:#F07178;">jobs</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">algolia</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">runs-on</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ubuntu-latest</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">steps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">uses</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">actions/checkout@v3</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Get the content of algolia.json as config</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">algolia_config</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">run</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">echo &quot;config=$(cat crawler.config.json | jq -r tostring)&quot; &gt;&gt; $GITHUB_OUTPUT</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Push indices to Algolia</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">uses</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">signcl/docsearch-scraper-action@master</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">env</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">APPLICATION_ID</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">\${{ secrets.APPLICATION_ID }}</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">API_KEY</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">\${{ secrets.API_KEY }}</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">CONFIG</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">\${{ steps.algolia_config.outputs.config }}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div>`,21),e=[p];function t(c,r,D,y,F,C){return a(),n("div",null,e)}const u=s(o,[["render",t]]);export{A as __pageData,u as default};
